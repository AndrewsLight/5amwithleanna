<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Counting the Days Until Christmas with Jett üíñ</title>
<meta name="description" content="Counting the days until Christmas with Jett üíñ">
<link rel="icon" href="assets/images/favicon.png" type="image/png">

<style>
/* =========================
   DESIGN TOKENS
========================= */
@font-face {
  font-family: 'PixelMirage';
  src: url('assets/fonts/PixelMirage-OGxp6.otf') format('opentype');
  font-display: swap;
}

:root {
  --overlay: rgba(0,0,0,.6);
  --gold: #ffcc00;
  --green: #00ff7b;
  --glow: 0 0 24px rgba(255,204,0,.35);
  --border: #fff;

  --r-sm: 8px;
  --r-md: 12px;

  --ease-main: cubic-bezier(.2,.8,.2,1);
  --t-fast: 160ms;
  --t-med: 360ms;
  --t-slow: 2.8s;
}

/* =========================
   BASE
========================= */
* { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  font-family: 'PixelMirage', monospace;
  background: #0b1b35;
  color: #fff;
  text-align: center;
  overflow-x: hidden;
}

/* =========================
   BACKGROUND
========================= */
.background,
.overlay {
  position: fixed;
  inset: 0;
}

.background {
  background: url('assets/images/background.gif') center / cover no-repeat fixed;
  z-index: 0;
}

.overlay {
  background: linear-gradient(to bottom, rgba(0,0,0,.3), rgba(0,0,0,.75));
  z-index: 1;
}

/* =========================
   LAYOUT
========================= */
.container {
  position: relative;
  z-index: 2;
  max-width: 980px;
  margin: auto;
  padding: 24px;
}

.site-title {
  display: inline-block;
  padding: 10px 14px;
  border: 2px solid var(--border);
  border-radius: var(--r-sm);
  background: var(--overlay);
  box-shadow: var(--glow);
  margin: 18px 0;
}

/* =========================
   COUNTDOWN
========================= */
.countdown { margin-top: 60px; }

.clock {
  position: relative;
  display: inline-block;
  padding: 32px 50px;
  background: var(--overlay);
  border: 3px solid var(--border);
  border-radius: var(--r-md);
  box-shadow: 0 8px 0 var(--border), var(--glow);
  animation: pop var(--t-med) var(--ease-main);
}

@keyframes pop {
  from { transform: scale(.92); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.hat {
  position: absolute;
  top: -70px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  animation: wiggle var(--t-slow) ease-in-out infinite;
}

@keyframes wiggle {
  0%,100% { transform: translateX(-50%) rotate(-4deg); }
  50% { transform: translateX(-50%) rotate(4deg); }
}

.timer-label {
  color: var(--gold);
  margin-bottom: 12px;
  display: block;
}

#timer {
  font-size: 28px;
  color: var(--green);
  letter-spacing: 2px;
  text-shadow: 0 0 10px rgba(0,255,150,.6);
}

/* =========================
   DECOR
========================= */
.decoration {
  position: absolute;
  width: 50px;
  image-rendering: pixelated;
  animation: float 6s ease-in-out infinite;
  pointer-events: none;
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}

/* =========================
   DAILY NOTE
========================= */
.daily-popup {
  position: fixed;
  top: 22%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(20,20,20,.95);
  padding: 20px;
  border: 2px solid var(--border);
  border-radius: var(--r-md);
  box-shadow: var(--glow);
  z-index: 30;
  animation: fade var(--t-med) var(--ease-main);
}

@keyframes fade {
  from { opacity: 0; transform: translate(-50%,10px); }
  to { opacity: 1; transform: translate(-50%,0); }
}

.daily-popup button {
  margin-top: 12px;
  padding: 6px 14px;
  background: var(--gold);
  border: none;
  border-radius: var(--r-sm);
  cursor: pointer;
}

/* =========================
   NOTE ICON
========================= */
.note-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 64px;
  cursor: pointer;
  transition: transform var(--t-fast);
  z-index: 25;
}

.note-icon:hover { transform: translateY(-4px); }

/* =========================
   MODAL
========================= */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.75);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--t-med);
  z-index: 40;
}

.modal.active {
  opacity: 1;
  pointer-events: auto;
}

.modal-content {
  background: #1a1a1a;
  max-width: 640px;
  margin: 10% auto;
  padding: 24px;
  border: 3px solid var(--border);
  border-radius: var(--r-md);
  box-shadow: var(--glow);
  text-align: left;
  animation: pop var(--t-med) var(--ease-main);
}

.close {
  position: absolute;
  top: 10px;
  right: 12px;
  width: 32px;
  height: 32px;
  border: 2px solid var(--border);
  border-radius: var(--r-sm);
  background: transparent;
  color: var(--gold);
  cursor: pointer;
}

/* =========================
   SNOW
========================= */
.snowflake {
  position: fixed;
  top: -10px;
  width: 6px;
  height: 6px;
  background: white;
  opacity: .8;
  border-radius: 50%;
  pointer-events: none;
  animation: snow linear infinite;
}

@keyframes snow {
  to { transform: translateY(110vh); }
}

/* =========================
   FOOTER
========================= */
footer {
  margin: 40px 0;
  font-size: 12px;
  opacity: .8;
}

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 540px) {
  .clock { padding: 22px 26px; }
  #timer { font-size: 22px; }
  .hat { width: 96px; top: -58px; }
}
</style>
</head>

<body>

<div class="background"></div>
<div class="overlay"></div>

<div class="container">
  <div class="site-title">U-uh‚Ä¶ it‚Äôs Christmas soon‚Ä¶ I thought you‚Äôd like this üòÖ</div>

  <section class="countdown">
    <h1>üéÑ Christmas Countdown üéÑ</h1>

    <div class="clock">
      <img src="assets/images/santa-hat.png" class="hat">
      <span class="timer-label">Counting down to December 25 ‚ù§Ô∏è</span>
      <div id="timer">Loading‚Ä¶</div>
    </div>

    <img src="assets/images/heart.gif" class="decoration" style="top:22%;left:10%;">
    <img src="assets/images/gift.gif" class="decoration" style="top:50%;left:80%;">
  </section>

  <img src="assets/images/note-icon.gif" class="note-icon" id="noteTrigger">

  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="close" id="closeModal">√ó</button>
      <h2 style="color:var(--gold)">‚ú® Christmas Message ‚ú®</h2>
      <p id="modalText"></p>
      <p style="margin-top:16px;color:#00ffcc;font-style:italic">‚Äî Andrew üíñ</p>
      <div style="text-align:right">
        <button id="prev">&lt;</button>
        <button id="next">&gt;</button>
      </div>
    </div>
  </div>

  <footer>
    I‚Ä¶ I made this for you, Kacchan‚Ä¶ don‚Äôt get too smug üò≥<br>
    ¬© 2025 ‚Ä¢ Andrew ‚Ä¢ to Jett
  </footer>
</div>

<audio id="music" src="assets/music/christmas.mp3" loop></audio>

<script>
/* =========================
   APP CORE
========================= */
const App = {
  state: { musicStarted:false, msgIndex:0 },
  init() {
    Time.init();
    Countdown.init();
    Messages.init();
    Audio.init();
    Snow.init();
    UI.bind();
  }
};

/* =========================
   TIME
========================= */
const Time = {
  now: null,
  christmas: new Date("December 25, 2025 00:00:00"),
  dailyStart: new Date("December 1, 2025"),
  init() {
    this.tick();
    setInterval(()=>this.tick(),1000);
  },
  tick(){ this.now = new Date(); },
  diff(t){ return t - this.now; },
  dayIndex(){ return Math.floor((this.now - this.dailyStart)/86400000); }
};

/* =========================
   COUNTDOWN
========================= */
const Countdown = {
  el: document.getElementById('timer'),
  init(){ this.update(); setInterval(()=>this.update(),1000); },
  update(){
    const d = Time.diff(Time.christmas);
    if(d <= 0) return;
    const days = Math.floor(d/86400000);
    const h = Math.floor(d/3600000)%24;
    const m = Math.floor(d/60000)%60;
    const s = Math.floor(d/1000)%60;
    this.el.textContent =
      `${String(days).padStart(2,'0')} DAYS : ${String(h).padStart(2,'0')} HOURS : ${String(m).padStart(2,'0')} MINUTES : ${String(s).padStart(2,'0')} SECONDS`;
  }
};

/* =========================
   MESSAGES
========================= */
const Messages = {
  daily:[
    "I made this little countdown just for us‚Ä¶ üò≥üéÑ",
    "U-uh‚Ä¶ Jett‚Ä¶ I hope today‚Äôs been good üíå",
    "I tried not to think about you‚Ä¶ failed üòÖ",
    "I hope this made you smile a bit üò≥"
  ],
  modal:[
    "Hey Jett‚Ä¶ I made something small for you üò≥",
    "I hope it‚Äôs not too cheesy üòÖ",
    "I wanted to leave something every day üíñ",
    "I‚Äôm really glad you‚Äôre here ‚ù§Ô∏è"
  ],
  init(){
    const i = Math.max(0,Math.min(this.daily.length-1,Time.dayIndex()));
    const key = Time.now.toDateString();
    if(localStorage.getItem('daily')===key) return;
    UI.popup(this.daily[i]);
    localStorage.setItem('daily',key);
  }
};

/* =========================
   AUDIO
========================= */
const Audio = {
  el: document.getElementById('music'),
  init(){ this.el.volume=0; },
  start(){
    if(App.state.musicStarted) return;
    this.el.play().catch(()=>{});
    let v=0;
    const f=setInterval(()=>{
      v+=0.02; this.el.volume=Math.min(v,1);
      if(v>=1) clearInterval(f);
    },60);
    App.state.musicStarted=true;
  }
};

/* =========================
   SNOW
========================= */
const Snow = {
  init(){
    for(let i=0;i<35;i++) this.spawn();
  },
  spawn(){
    const s=document.createElement('div');
    s.className='snowflake';
    s.style.left=Math.random()*100+'vw';
    s.style.animationDuration=6+Math.random()*6+'s';
    document.body.appendChild(s);
  }
};

/* =========================
   UI
========================= */
const UI = {
  bind(){
    const modal=document.getElementById('modal');
    const text=document.getElementById('modalText');

    document.getElementById('noteTrigger').onclick=()=>{
      modal.classList.add('active');
      text.textContent=Messages.modal[App.state.msgIndex];
      Audio.start();
    };

    document.getElementById('closeModal').onclick=()=>modal.classList.remove('active');
    document.getElementById('prev').onclick=()=>{
      if(App.state.msgIndex>0) text.textContent=Messages.modal[--App.state.msgIndex];
    };
    document.getElementById('next').onclick=()=>{
      if(App.state.msgIndex<Messages.modal.length-1) text.textContent=Messages.modal[++App.state.msgIndex];
    };
    modal.onclick=e=>e.target===modal && modal.classList.remove('active');
  },
  popup(msg){
    const p=document.createElement('div');
    p.className='daily-popup';
    p.innerHTML=`<p>${msg}</p><button>Got it</button>`;
    document.body.appendChild(p);
    p.querySelector('button').onclick=()=>p.remove();
  }
};

document.addEventListener('DOMContentLoaded',()=>App.init());
</script>

</body>
</html>
